<div class="navbar sticky top-0 z-50 bg-red-50 border-b-2 border-gray-100 backdrop-blur-md opacity-80">
    <div class="flex-1">
        <a class="btn btn-ghost text-xl" href="/">Lego Collection A3</a>
    </div>
    <div class="flex-none">
        <ul class="menu menu-horizontal px-1">
            <label class="cursor-pointer grid place-items-center">
            </label>
            <li><a class="<%= (page == '/lego/sets') ? 'active' : '' %>" href="/lego/sets">View Collection</a></li>
            <li><a class="<%= (page == '/about') ? 'active' : '' %>" href="/about">About</a></li>
            <% if (session.user) { %>
                <li>
                    <details>
                        <summary>Account: <%= session.user.userName %></summary>
                        <ul class="p-2 right-0">
                            <li><a class="<%= (page == '/lego/addSet') ? 'active' : '' %>" href="/lego/addSet">Add to Collection</a></li>
                            <li><a class="<%= (page == '/userHistory') ? 'active' : '' %>" href="/userHistory">User History</a></li>
                            <li><a href="/logout">Log Out</a></li>
                        </ul>
                    </details>
                </li>
            <% } else { %>
                <li>
                    <details>
                        <summary>Account</summary>
                        <ul class="p-2 right-0">
                            <li><a class="<%= (page == '/login') ? 'active' : '' %>" href="/login">Login</a></li>
                            <li><a class="<%= (page == '/register') ? 'active' : '' %>" href="/register">Register</a></li>
                        </ul>
                    </details>
                </li>
            <% } %>
        </ul>
    </div>
</div>


<script src="/ThemeChanger.js">  </script>
<script>
  // Just to keep the theme state across pages
  document.addEventListener('DOMContentLoaded', () => {
const themeToggle = document.getElementById('theme-toggle');
const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;

if (currentTheme) {
  document.documentElement.setAttribute('data-theme', currentTheme);

  if (currentTheme === 'dark') {
      themeToggle.checked = true;
  }
}

themeToggle.addEventListener('change', function() {
  if (this.checked) {
      document.documentElement.setAttribute('data-theme', 'dark');
      localStorage.setItem('theme', 'dark');
  } else {
      document.documentElement.setAttribute('data-theme', 'light');
      localStorage.setItem('theme', 'light');
  }
});
});
</script>
</script>